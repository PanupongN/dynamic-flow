{
  "id": "conditional-test-flow",
  "title": "Conditional Logic Test",
  "description": "Testing conditional logic and loops",
  "nodes": [
    {
      "id": "step1",
      "type": "flow_step",
      "position": { "x": 100, "y": 100 },
      "data": {
        "label": "Basic Information",
        "description": "Tell us about yourself",
        "questions": [
          {
            "id": "age",
            "type": "number_input",
            "label": "Your Age",
            "required": true
          },
          {
            "id": "has_car",
            "type": "single_choice",
            "label": "Do you have a car?",
            "required": true,
            "options": [
              { "id": "yes", "label": "Yes", "value": "yes" },
              { "id": "no", "label": "No", "value": "no" }
            ]
          }
        ],
        "logic": []
      },
      "connections": [
        {
          "targetNodeId": "step2"
        },
        {
          "targetNodeId": "car_details",
          "condition": {
            "field": "has_car",
            "operator": "equals",
            "value": "yes"
          }
        },
        {
          "targetNodeId": "adult_questions",
          "condition": {
            "field": "age",
            "operator": "greater_than",
            "value": 18
          }
        }
      ]
    },
    {
      "id": "step2",
      "type": "flow_step",
      "position": { "x": 100, "y": 200 },
      "data": {
        "label": "Contact Info",
        "description": "How can we reach you?",
        "questions": [
          {
            "id": "email",
            "type": "email_input",
            "label": "Email",
            "required": true
          },
          {
            "id": "phone",
            "type": "text_input",
            "label": "Phone",
            "required": false
          }
        ],
        "logic": [
          {
            "type": "require",
            "conditions": [
              {
                "field": "age",
                "operator": "greater_than",
                "value": 16
              }
            ],
            "operator": "and"
          }
        ]
      },
      "connections": [
        {
          "targetNodeId": "family_size"
        }
      ]
    },
    {
      "id": "car_details",
      "type": "flow_step",
      "position": { "x": 300, "y": 200 },
      "data": {
        "label": "Car Details",
        "description": "Tell us about your car",
        "questions": [
          {
            "id": "car_brand",
            "type": "text_input",
            "label": "Car Brand",
            "required": true
          },
          {
            "id": "car_year",
            "type": "number_input",
            "label": "Car Year",
            "required": true
          }
        ],
        "logic": []
      },
      "connections": [
        {
          "targetNodeId": "family_size"
        }
      ]
    },
    {
      "id": "adult_questions",
      "type": "flow_step",
      "position": { "x": 500, "y": 200 },
      "data": {
        "label": "Adult Questions",
        "description": "Additional questions for adults",
        "questions": [
          {
            "id": "occupation",
            "type": "text_input",
            "label": "Occupation",
            "required": true
          },
          {
            "id": "income_range",
            "type": "single_choice",
            "label": "Income Range",
            "required": false,
            "options": [
              { "id": "low", "label": "Under $30k", "value": "under_30k" },
              { "id": "mid", "label": "$30k - $70k", "value": "30k_70k" },
              { "id": "high", "label": "Over $70k", "value": "over_70k" }
            ]
          }
        ],
        "logic": []
      },
      "connections": [
        {
          "targetNodeId": "family_size"
        }
      ]
    },
    {
      "id": "family_size",
      "type": "flow_step",
      "position": { "x": 100, "y": 400 },
      "data": {
        "label": "Family Information",
        "description": "Tell us about your family",
        "questions": [
          {
            "id": "family_members",
            "type": "number_input",
            "label": "Number of family members",
            "required": true
          }
        ],
        "logic": []
      },
      "connections": [
        {
          "targetNodeId": "member_details"
        }
      ]
    },
    {
      "id": "member_details",
      "type": "flow_step",
      "position": { "x": 100, "y": 500 },
      "data": {
        "label": "Family Member Details",
        "description": "Provide details for each family member",
        "questions": [
          {
            "id": "member_name",
            "type": "text_input",
            "label": "Member Name",
            "required": true
          },
          {
            "id": "member_age",
            "type": "number_input",
            "label": "Member Age",
            "required": true
          },
          {
            "id": "relation",
            "type": "single_choice",
            "label": "Relationship",
            "required": true,
            "options": [
              { "id": "spouse", "label": "Spouse", "value": "spouse" },
              { "id": "child", "label": "Child", "value": "child" },
              { "id": "parent", "label": "Parent", "value": "parent" },
              { "id": "sibling", "label": "Sibling", "value": "sibling" }
            ]
          }
        ],
        "logic": [],
        "loop": {
          "enabled": true,
          "sourceFieldId": "family_members"
        }
      },
      "connections": [
        {
          "targetNodeId": "thank_you"
        }
      ]
    },
    {
      "id": "thank_you",
      "type": "flow_step",
      "position": { "x": 100, "y": 600 },
      "data": {
        "label": "Thank You!",
        "description": "Thank you for completing the form.",
        "questions": [],
        "logic": []
      },
      "connections": []
    }
  ],
  "settings": {
    "allowMultipleSubmissions": false,
    "showProgressBar": true,
    "requireAuth": false,
    "collectAnalytics": true
  },
  "theme": {},
  "status": "published",
  "createdAt": "2025-01-01T00:00:00Z",
  "updatedAt": "2025-01-01T00:00:00Z",
  "publishedAt": "2025-01-01T00:00:00Z"
}
